<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/favicon.ico"><title>_fs模块 | ZH's BLOG</title><meta name="description" content="playing around">
    <link rel="modulepreload" href="/assets/app-3202c870.js"><link rel="modulepreload" href="/assets/framework-87c4c4c1.js"><link rel="modulepreload" href="/assets/5.html-b5b6c816.js"><link rel="modulepreload" href="/assets/5.html-d71c405d.js"><link rel="prefetch" href="/assets/index.html-6d5e9dd3.js" as="script"><link rel="prefetch" href="/assets/index.html-2285c9aa.js" as="script"><link rel="prefetch" href="/assets/index.html-6cf06f14.js" as="script"><link rel="prefetch" href="/assets/index.html-e7b859f1.js" as="script"><link rel="prefetch" href="/assets/121501.html-62b45f52.js" as="script"><link rel="prefetch" href="/assets/121502.html-ab06c93d.js" as="script"><link rel="prefetch" href="/assets/121503.html-85ff0609.js" as="script"><link rel="prefetch" href="/assets/121504.html-17b6a593.js" as="script"><link rel="prefetch" href="/assets/ajax1.html-7faada51.js" as="script"><link rel="prefetch" href="/assets/ajax10.html-7080d342.js" as="script"><link rel="prefetch" href="/assets/ajax11.html-67dbf2a4.js" as="script"><link rel="prefetch" href="/assets/ajax2.html-66a5f809.js" as="script"><link rel="prefetch" href="/assets/ajax3.html-845299ad.js" as="script"><link rel="prefetch" href="/assets/ajax4.html-997fe3a3.js" as="script"><link rel="prefetch" href="/assets/ajax5.html-6067f4f7.js" as="script"><link rel="prefetch" href="/assets/ajax6.html-eff98aa8.js" as="script"><link rel="prefetch" href="/assets/ajax7.html-e59088e4.js" as="script"><link rel="prefetch" href="/assets/ajax8.html-188665b1.js" as="script"><link rel="prefetch" href="/assets/ajax9.html-6910d2e0.js" as="script"><link rel="prefetch" href="/assets/es1.html-efac7109.js" as="script"><link rel="prefetch" href="/assets/es10.html-ab52d2a6.js" as="script"><link rel="prefetch" href="/assets/es11.html-2180fc2f.js" as="script"><link rel="prefetch" href="/assets/es12.html-487d60d8.js" as="script"><link rel="prefetch" href="/assets/es13.html-0a026c6f.js" as="script"><link rel="prefetch" href="/assets/es14.html-987130b6.js" as="script"><link rel="prefetch" href="/assets/es15.html-affa2097.js" as="script"><link rel="prefetch" href="/assets/es2.html-67dee85e.js" as="script"><link rel="prefetch" href="/assets/es3.html-f997fdc2.js" as="script"><link rel="prefetch" href="/assets/es4.html-750a47e2.js" as="script"><link rel="prefetch" href="/assets/es5.html-ed676cb8.js" as="script"><link rel="prefetch" href="/assets/es6.html-722a204e.js" as="script"><link rel="prefetch" href="/assets/es7.html-321c77a6.js" as="script"><link rel="prefetch" href="/assets/es8.html-8ae411e1.js" as="script"><link rel="prefetch" href="/assets/es9.html-d62f4763.js" as="script"><link rel="prefetch" href="/assets/1.html-0d6e0bfa.js" as="script"><link rel="prefetch" href="/assets/10.html-ce65c325.js" as="script"><link rel="prefetch" href="/assets/11.html-2ab9bbd1.js" as="script"><link rel="prefetch" href="/assets/12.html-2c6b43b2.js" as="script"><link rel="prefetch" href="/assets/13.html-24e8808a.js" as="script"><link rel="prefetch" href="/assets/2.html-c26ee35d.js" as="script"><link rel="prefetch" href="/assets/3.html-f88d5161.js" as="script"><link rel="prefetch" href="/assets/4.html-071c592b.js" as="script"><link rel="prefetch" href="/assets/6.html-495dcc08.js" as="script"><link rel="prefetch" href="/assets/7.html-1a25e362.js" as="script"><link rel="prefetch" href="/assets/8.html-c5397a09.js" as="script"><link rel="prefetch" href="/assets/9.html-e6d83545.js" as="script"><link rel="prefetch" href="/assets/BFC.html-541f5cc8.js" as="script"><link rel="prefetch" href="/assets/box.html-3d1d3421.js" as="script"><link rel="prefetch" href="/assets/cleanfloat.html-aa7fb79d.js" as="script"><link rel="prefetch" href="/assets/float.html-531d3772.js" as="script"><link rel="prefetch" href="/assets/layout.html-f3787abe.js" as="script"><link rel="prefetch" href="/assets/zhuzi.html-72fd8c25.js" as="script"><link rel="prefetch" href="/assets/block.html-99f04056.js" as="script"><link rel="prefetch" href="/assets/next.html-1705db5a.js" as="script"><link rel="prefetch" href="/assets/yuyi.html-32e6a2dd.js" as="script"><link rel="prefetch" href="/assets/async.html-9451d56a.js" as="script"><link rel="prefetch" href="/assets/async_data.html-ee74bba5.js" as="script"><link rel="prefetch" href="/assets/bibao.html-231b2bf4.js" as="script"><link rel="prefetch" href="/assets/cookie.html-1403f01b.js" as="script"><link rel="prefetch" href="/assets/copy.html-c2e3342c.js" as="script"><link rel="prefetch" href="/assets/EventLoop.html-be546d3f.js" as="script"><link rel="prefetch" href="/assets/fix.html-a65f4804.js" as="script"><link rel="prefetch" href="/assets/flat.html-d6066aef.js" as="script"><link rel="prefetch" href="/assets/for...in.html-bfcc38f9.js" as="script"><link rel="prefetch" href="/assets/forawait.html-7d361db2.js" as="script"><link rel="prefetch" href="/assets/kuohao.html-315cf219.js" as="script"><link rel="prefetch" href="/assets/makestring.html-fe53b5e4.js" as="script"><link rel="prefetch" href="/assets/mini.html-3e348427.js" as="script"><link rel="prefetch" href="/assets/nummax.html-93b97cb8.js" as="script"><link rel="prefetch" href="/assets/promise.html-f2f926f0.js" as="script"><link rel="prefetch" href="/assets/Promiseread.html-e7eca5fa.js" as="script"><link rel="prefetch" href="/assets/prototype.html-669abdc6.js" as="script"><link rel="prefetch" href="/assets/setmap.html-5638ace1.js" as="script"><link rel="prefetch" href="/assets/shuzu.html-e4ca3999.js" as="script"><link rel="prefetch" href="/assets/storage.html-8216f0b8.js" as="script"><link rel="prefetch" href="/assets/string.html-35f1c6ff.js" as="script"><link rel="prefetch" href="/assets/stringtest.html-d8829a0c.js" as="script"><link rel="prefetch" href="/assets/this.html-0baacdba.js" as="script"><link rel="prefetch" href="/assets/traottle.html-07fca5d7.js" as="script"><link rel="prefetch" href="/assets/var.html-823370c3.js" as="script"><link rel="prefetch" href="/assets/bobble.html-bdddfc6e.js" as="script"><link rel="prefetch" href="/assets/conpomentphone.html-5223b93a.js" as="script"><link rel="prefetch" href="/assets/diff.html-fb95d90d.js" as="script"><link rel="prefetch" href="/assets/DOM.html-a55e7e46.js" as="script"><link rel="prefetch" href="/assets/father_fix_children.html-09a339a4.js" as="script"><link rel="prefetch" href="/assets/gather.html-ee9f3aee.js" as="script"><link rel="prefetch" href="/assets/keep-alive.html-3a485d41.js" as="script"><link rel="prefetch" href="/assets/knowzhiling.html-b60cd2fb.js" as="script"><link rel="prefetch" href="/assets/modules.html-a978effa.js" as="script"><link rel="prefetch" href="/assets/new.html-317d9d97.js" as="script"><link rel="prefetch" href="/assets/queryparams.html-44dde2c7.js" as="script"><link rel="prefetch" href="/assets/stopevent.html-0ff3d688.js" as="script"><link rel="prefetch" href="/assets/v-model.html-2eaebd1b.js" as="script"><link rel="prefetch" href="/assets/vueming.html-099b9abf.js" as="script"><link rel="prefetch" href="/assets/Vuepash.html-22649f4c.js" as="script"><link rel="prefetch" href="/assets/vuerouter.html-49cd2cea.js" as="script"><link rel="prefetch" href="/assets/Vuex.html-14c6046a.js" as="script"><link rel="prefetch" href="/assets/vuexsz.html-ae31f743.js" as="script"><link rel="prefetch" href="/assets/zhiling.html-bab56a28.js" as="script"><link rel="prefetch" href="/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/assets/index.html-26fc07bb.js" as="script"><link rel="prefetch" href="/assets/index.html-e10be4ec.js" as="script"><link rel="prefetch" href="/assets/index.html-fb28aeac.js" as="script"><link rel="prefetch" href="/assets/index.html-81537ae2.js" as="script"><link rel="prefetch" href="/assets/121501.html-76d4c190.js" as="script"><link rel="prefetch" href="/assets/121502.html-fe001baf.js" as="script"><link rel="prefetch" href="/assets/121503.html-9f992719.js" as="script"><link rel="prefetch" href="/assets/121504.html-cf1f8151.js" as="script"><link rel="prefetch" href="/assets/ajax1.html-5b38a890.js" as="script"><link rel="prefetch" href="/assets/ajax10.html-3f7911fb.js" as="script"><link rel="prefetch" href="/assets/ajax11.html-77a26bfb.js" as="script"><link rel="prefetch" href="/assets/ajax2.html-5f8608ad.js" as="script"><link rel="prefetch" href="/assets/ajax3.html-7680bdd2.js" as="script"><link rel="prefetch" href="/assets/ajax4.html-7d3df64c.js" as="script"><link rel="prefetch" href="/assets/ajax5.html-f4522284.js" as="script"><link rel="prefetch" href="/assets/ajax6.html-bd033931.js" as="script"><link rel="prefetch" href="/assets/ajax7.html-01fd8712.js" as="script"><link rel="prefetch" href="/assets/ajax8.html-b62af119.js" as="script"><link rel="prefetch" href="/assets/ajax9.html-7abb20ba.js" as="script"><link rel="prefetch" href="/assets/es1.html-5bcf0d0f.js" as="script"><link rel="prefetch" href="/assets/es10.html-cff2a941.js" as="script"><link rel="prefetch" href="/assets/es11.html-e7b287ee.js" as="script"><link rel="prefetch" href="/assets/es12.html-4d2b3a94.js" as="script"><link rel="prefetch" href="/assets/es13.html-fbcd38aa.js" as="script"><link rel="prefetch" href="/assets/es14.html-32c1aad9.js" as="script"><link rel="prefetch" href="/assets/es15.html-4877fd82.js" as="script"><link rel="prefetch" href="/assets/es2.html-7155d20c.js" as="script"><link rel="prefetch" href="/assets/es3.html-1ff5ffa5.js" as="script"><link rel="prefetch" href="/assets/es4.html-32323aee.js" as="script"><link rel="prefetch" href="/assets/es5.html-f94a45de.js" as="script"><link rel="prefetch" href="/assets/es6.html-6f899e80.js" as="script"><link rel="prefetch" href="/assets/es7.html-e2961376.js" as="script"><link rel="prefetch" href="/assets/es8.html-ef2e142d.js" as="script"><link rel="prefetch" href="/assets/es9.html-5faf7b1a.js" as="script"><link rel="prefetch" href="/assets/1.html-5d3c4138.js" as="script"><link rel="prefetch" href="/assets/10.html-417043f1.js" as="script"><link rel="prefetch" href="/assets/11.html-dbf60417.js" as="script"><link rel="prefetch" href="/assets/12.html-e06d211e.js" as="script"><link rel="prefetch" href="/assets/13.html-00bf7b04.js" as="script"><link rel="prefetch" href="/assets/2.html-9e74c8ff.js" as="script"><link rel="prefetch" href="/assets/3.html-46304813.js" as="script"><link rel="prefetch" href="/assets/4.html-bc997f09.js" as="script"><link rel="prefetch" href="/assets/6.html-64c92373.js" as="script"><link rel="prefetch" href="/assets/7.html-d1d385cf.js" as="script"><link rel="prefetch" href="/assets/8.html-8a55c495.js" as="script"><link rel="prefetch" href="/assets/9.html-6cecb211.js" as="script"><link rel="prefetch" href="/assets/BFC.html-5cdeefd9.js" as="script"><link rel="prefetch" href="/assets/box.html-dceaffb7.js" as="script"><link rel="prefetch" href="/assets/cleanfloat.html-69fb0868.js" as="script"><link rel="prefetch" href="/assets/float.html-548a5eca.js" as="script"><link rel="prefetch" href="/assets/layout.html-b89609ef.js" as="script"><link rel="prefetch" href="/assets/zhuzi.html-56fa950a.js" as="script"><link rel="prefetch" href="/assets/block.html-1ab06c7f.js" as="script"><link rel="prefetch" href="/assets/next.html-eb24aed7.js" as="script"><link rel="prefetch" href="/assets/yuyi.html-58ac81a7.js" as="script"><link rel="prefetch" href="/assets/async.html-c744cb27.js" as="script"><link rel="prefetch" href="/assets/async_data.html-b8780dbc.js" as="script"><link rel="prefetch" href="/assets/bibao.html-63285730.js" as="script"><link rel="prefetch" href="/assets/cookie.html-c2e65508.js" as="script"><link rel="prefetch" href="/assets/copy.html-ff2a48a1.js" as="script"><link rel="prefetch" href="/assets/EventLoop.html-06cf2a3f.js" as="script"><link rel="prefetch" href="/assets/fix.html-96073875.js" as="script"><link rel="prefetch" href="/assets/flat.html-4b38aabc.js" as="script"><link rel="prefetch" href="/assets/for...in.html-e19ca2d8.js" as="script"><link rel="prefetch" href="/assets/forawait.html-bc48b6df.js" as="script"><link rel="prefetch" href="/assets/kuohao.html-0f43d1b6.js" as="script"><link rel="prefetch" href="/assets/makestring.html-63ab9711.js" as="script"><link rel="prefetch" href="/assets/mini.html-932d4c1d.js" as="script"><link rel="prefetch" href="/assets/nummax.html-0a714bc5.js" as="script"><link rel="prefetch" href="/assets/promise.html-e65dcf91.js" as="script"><link rel="prefetch" href="/assets/Promiseread.html-b15e8587.js" as="script"><link rel="prefetch" href="/assets/prototype.html-85e9c9f0.js" as="script"><link rel="prefetch" href="/assets/setmap.html-3fa756ed.js" as="script"><link rel="prefetch" href="/assets/shuzu.html-cfb594a4.js" as="script"><link rel="prefetch" href="/assets/storage.html-bd11c405.js" as="script"><link rel="prefetch" href="/assets/string.html-11ace7b6.js" as="script"><link rel="prefetch" href="/assets/stringtest.html-6b904276.js" as="script"><link rel="prefetch" href="/assets/this.html-bf2bd511.js" as="script"><link rel="prefetch" href="/assets/traottle.html-a04d1ba2.js" as="script"><link rel="prefetch" href="/assets/var.html-58efb223.js" as="script"><link rel="prefetch" href="/assets/bobble.html-09054dd3.js" as="script"><link rel="prefetch" href="/assets/conpomentphone.html-5d8343ca.js" as="script"><link rel="prefetch" href="/assets/diff.html-29bba67e.js" as="script"><link rel="prefetch" href="/assets/DOM.html-02c105d0.js" as="script"><link rel="prefetch" href="/assets/father_fix_children.html-33601f16.js" as="script"><link rel="prefetch" href="/assets/gather.html-76bc45b4.js" as="script"><link rel="prefetch" href="/assets/keep-alive.html-965a00af.js" as="script"><link rel="prefetch" href="/assets/knowzhiling.html-3541445e.js" as="script"><link rel="prefetch" href="/assets/modules.html-89a3145b.js" as="script"><link rel="prefetch" href="/assets/new.html-1bfe99c3.js" as="script"><link rel="prefetch" href="/assets/queryparams.html-d9311487.js" as="script"><link rel="prefetch" href="/assets/stopevent.html-3cf5fdf2.js" as="script"><link rel="prefetch" href="/assets/v-model.html-19550198.js" as="script"><link rel="prefetch" href="/assets/vueming.html-f54f45eb.js" as="script"><link rel="prefetch" href="/assets/Vuepash.html-d81216a5.js" as="script"><link rel="prefetch" href="/assets/vuerouter.html-3da8193c.js" as="script"><link rel="prefetch" href="/assets/Vuex.html-39ae0526.js" as="script"><link rel="prefetch" href="/assets/vuexsz.html-2470021b.js" as="script"><link rel="prefetch" href="/assets/zhiling.html-97ce1622.js" as="script"><link rel="prefetch" href="/assets/404.html-4f5710ec.js" as="script"><link rel="prefetch" href="/assets/reco-valine-a0c1af1f.js" as="script">
    <link rel="preload" href="/assets/style-341ae97a.css" as="style"><link rel="stylesheet" href="/assets/style-341ae97a.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper show-series show-catalog"><div><header class="navbar-container"><!--[--><div class="site-brand nav-item"><img class="logo" src="/logo.png" alt="ZH&#39;s BLOG"><a href="/" class="site-name can-hide">ZH&#39;s BLOG</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/categories/2023/1/" class="link" aria-label="随记"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M25.7 9.3l-7-7c-.2-.2-.4-.3-.7-.3H8c-1.1 0-2 .9-2 2v24c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V10c0-.3-.1-.5-.3-.7zM18 4.4l5.6 5.6H18V4.4zM24 28H8V4h8v6c0 1.1.9 2 2 2h6v16z" fill="currentColor"></path><path d="M10 22h12v2H10z" fill="currentColor"></path><path d="M10 16h12v2H10z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->随记<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="面试题"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4A12 12 0 1 1 4 16A12 12 0 0 1 16 4m0-2a14 14 0 1 0 14 14A14 14 0 0 0 16 2z" fill="currentColor"></path><path d="M23 10.41L21.59 9l-4.3 4.3a3 3 0 0 0-4 4L9 21.59L10.41 23l4.3-4.3a3 3 0 0 0 4-4zM17 16a1 1 0 1 1-1-1a1 1 0 0 1 1 1z" fill="currentColor"></path><circle cx="16" cy="7.5" r="1.5" fill="currentColor"></circle></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="面试题"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4A12 12 0 1 1 4 16A12 12 0 0 1 16 4m0-2a14 14 0 1 0 14 14A14 14 0 0 0 16 2z" fill="currentColor"></path><path d="M23 10.41L21.59 9l-4.3 4.3a3 3 0 0 0-4 4L9 21.59L10.41 23l4.3-4.3a3 3 0 0 0 4-4zM17 16a1 1 0 1 1-1-1a1 1 0 0 1 1 1z" fill="currentColor"></path><circle cx="16" cy="7.5" r="1.5" fill="currentColor"></circle></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/base/vue/new" class="link" aria-label="vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/base/javascript/async" class="link" aria-label="JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/base/html/block" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/base/css/BFC" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="笔记"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->笔记<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="笔记"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->笔记<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/docs/node/1" class="link" aria-label="node.js笔记"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->node.js笔记<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/docs/ajax/ajax11" class="link" aria-label="ajax笔记"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ajax笔记<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/docs/es6/es15" class="link" aria-label="Es6笔记"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Es6笔记<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div><!--]--></header><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/categories/2023/1/" class="link" aria-label="随记"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M25.7 9.3l-7-7c-.2-.2-.4-.3-.7-.3H8c-1.1 0-2 .9-2 2v24c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V10c0-.3-.1-.5-.3-.7zM18 4.4l5.6 5.6H18V4.4zM24 28H8V4h8v6c0 1.1.9 2 2 2h6v16z" fill="currentColor"></path><path d="M10 22h12v2H10z" fill="currentColor"></path><path d="M10 16h12v2H10z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->随记<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="面试题"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4A12 12 0 1 1 4 16A12 12 0 0 1 16 4m0-2a14 14 0 1 0 14 14A14 14 0 0 0 16 2z" fill="currentColor"></path><path d="M23 10.41L21.59 9l-4.3 4.3a3 3 0 0 0-4 4L9 21.59L10.41 23l4.3-4.3a3 3 0 0 0 4-4zM17 16a1 1 0 1 1-1-1a1 1 0 0 1 1 1z" fill="currentColor"></path><circle cx="16" cy="7.5" r="1.5" fill="currentColor"></circle></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="面试题"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4A12 12 0 1 1 4 16A12 12 0 0 1 16 4m0-2a14 14 0 1 0 14 14A14 14 0 0 0 16 2z" fill="currentColor"></path><path d="M23 10.41L21.59 9l-4.3 4.3a3 3 0 0 0-4 4L9 21.59L10.41 23l4.3-4.3a3 3 0 0 0 4-4zM17 16a1 1 0 1 1-1-1a1 1 0 0 1 1 1z" fill="currentColor"></path><circle cx="16" cy="7.5" r="1.5" fill="currentColor"></circle></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/base/vue/new" class="link" aria-label="vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/base/javascript/async" class="link" aria-label="JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/base/html/block" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/base/css/BFC" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="笔记"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->笔记<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="笔记"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->笔记<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/docs/node/1" class="link" aria-label="node.js笔记"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->node.js笔记<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/docs/ajax/ajax11" class="link" aria-label="ajax笔记"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ajax笔记<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/docs/es6/es15" class="link" aria-label="Es6笔记"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Es6笔记<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/logo.png" alt="ZH&#39;s BLOG"><a href="/" class="site-name can-hide">ZH&#39;s BLOG</a></div><!--[--><!--[--><section class="series-group series-item"><h5 class="series-heading active">node.js笔记</h5><ul><li><!--[--><a href="/docs/node/1.html" class="link series-item" aria-label="node.js的作用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->node.js的作用<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/node/2.html" class="link series-item" aria-label="认识命令行"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->认识命令行<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/node/3.html" class="link series-item" aria-label="node.js编码注意事项"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->node.js编码注意事项<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/node/4.html" class="link series-item" aria-label="buffer（缓冲器）"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->buffer（缓冲器）<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a aria-current="page" href="/docs/node/5.html" class="router-link-active router-link-exact-active link router-link-active series-item active" aria-label="_fs模块"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->_fs模块<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/node/6.html" class="link series-item" aria-label="_path模块"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->_path模块<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/node/7.html" class="link series-item" aria-label="HTTP协议"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTTP协议<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/node/8.html" class="link series-item" aria-label="Node.js模块化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Node.js模块化<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/node/9.html" class="link series-item" aria-label="包管理工具"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->包管理工具<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/node/10.html" class="link series-item" aria-label="express框架"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->express框架<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/node/11.html" class="link series-item" aria-label="mongoDB"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->mongoDB<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/node/12.html" class="link series-item" aria-label="接口"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->接口<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/node/13.html" class="link series-item" aria-label="会话控制"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->会话控制<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--><!--]--></aside><!--[--><main class="page-container"><h1 class="page-title">_fs模块</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Matthew<!--]--></span></span><!----><!----><!----><!----></div><div class="theme-reco-default-content"><div><h1 id="fs模块" tabindex="-1"><a class="header-anchor" href="#fs模块" aria-hidden="true">#</a> _fs模块</h1><blockquote><p>全称为File System, fs模块可以实现与硬盘的交互，例如文件的创建、删除、重命名、移动，还有文件内容的写入、读取，以及文件夹的相关操作</p></blockquote><h2 id="_1-文件写入" tabindex="-1"><a class="header-anchor" href="#_1-文件写入" aria-hidden="true">#</a> 1. 文件写入</h2><p>文件写入就是将 数据 保存到 文件 中，我们可以使用如下几个方法来实现该效果</p><h3 id="_1-writefile-异步写入" tabindex="-1"><a class="header-anchor" href="#_1-writefile-异步写入" aria-hidden="true">#</a> （1）writeFile 异步写入</h3><p>语法：fs.writeFile(file, data, [options], callback)<br> 参数说明：<br> file：文件名<br> data：待写入的数据<br> options：选项设置（可选）<br> callback：写入回调<br> 返回值： undefined<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// require 是 Node.js 环境中的&#39;全局&#39;变量，用来导入模块</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将 『三人行，必有我师焉。』 写入到当前文件夹下的『座右铭.txt』文件中</span>
fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;三人行，必有我师焉。&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//如果写入失败，则回调函数调用时，会传入错误对象，如写入成功，会传入 null</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;写入成功&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-writefilesync-同步写入" tabindex="-1"><a class="header-anchor" href="#_2-writefilesync-同步写入" aria-hidden="true">#</a> （2）writeFileSync 同步写入</h3><p>语法：fs.writeFileSync(file, data, [, options])<br> 参数与fs.writeFile大体一致，只是没有callback参数<br> 返回值： undefined<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;nihao&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Node.js 中的磁盘操作是由其他 线程 完成的，结果的处理有两种模式： 同步处理 JavaScript 主线程 会等待 其他线程的执行结果，然后再继续执行主线程的代码， 效率较低 异步处理 JavaScript 主线程 不会等待 其他线程的执行结果，直接执行后续的主线程代码， 效率较好</p></blockquote><h3 id="_3-appendfile-appendfilesync-追加写入" tabindex="-1"><a class="header-anchor" href="#_3-appendfile-appendfilesync-追加写入" aria-hidden="true">#</a> （3）appendFile / appendFileSync 追加写入</h3><p>appendFile作用是在文件尾部追加内容，appendFile语法与writeFile语法完全相同<br> 语法：fs.appendFile(file, data[, options], callback) 或 fs.appendFileSync(file, data[, options])<br> 返回值：都为undefined<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">appendFile</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;择其善者而从之，其不善者而改之。&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;追加成功&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">appendFileSync</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\r\n温故而知新, 可以为师矣&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-createwritestream-流式写入" tabindex="-1"><a class="header-anchor" href="#_4-createwritestream-流式写入" aria-hidden="true">#</a> （4）createWriteStream 流式写入</h3><p>语法：fs.createWriteStream(path[, options])<br> 参数说明：<br> path：文件路径<br> options：选项配置（可选）<br> 返回值：Object<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> ws <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">&#39;./观书有感.txt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&#39;半亩方塘一鉴开\r\n&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&#39;天光云影共徘徊\r\n&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&#39;问渠那得清如许\r\n&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&#39;为有源头活水来\r\n&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>程序打开一个文件是需要消耗资源的 ，流式写入可以减少打开关闭文件的次数。 流式写入方式适用于 大文件写入或者频繁写入 的场景, writeFile 适合于 写入频率较低的场景</p></blockquote><h3 id="_5-写入文件的场景" tabindex="-1"><a class="header-anchor" href="#_5-写入文件的场景" aria-hidden="true">#</a> （5）写入文件的场景</h3><p>文件写入在计算机中是一个非常常见的操作，下面的场景都用到了文件写入<br></p><ol><li>下载文件 <br></li><li>安装软件 <br></li><li>保存程序日志，如Git<br></li><li>编辑器保存文件<br></li><li>视频录制<br></li></ol><p>当需要持久化保存数据的时候，应该想到文件写入</p><h2 id="_2-文件读取" tabindex="-1"><a class="header-anchor" href="#_2-文件读取" aria-hidden="true">#</a> 2. 文件读取</h2><p>文件读取顾名思义，就是通过程序从文件中取出其中的数据，我们可以使用如下几种方式：</p><h3 id="_1-readfile异步读取" tabindex="-1"><a class="header-anchor" href="#_1-readfile异步读取" aria-hidden="true">#</a> （1）readFile异步读取</h3><p>语法：fs.readFile(path[, options], callback)<br> 参数说明：<br> path：文件路径<br> options：选项配置<br> callback：回调函数<br> 返回值：undefined</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//导入 fs 模块</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//&lt;Buffer 6e 69 68 61 6f 20&gt;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//nihao</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-readfilesync同步读取" tabindex="-1"><a class="header-anchor" href="#_2-readfilesync同步读取" aria-hidden="true">#</a> （2）readFileSync同步读取</h3><p>语法：fs.readFileSync(path[, options])<br> 参数说明：<br> path：文件路径<br> options：选项配置<br> 返回值： string | Buffer<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> data <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&lt;Buffer 6e 69 68 61 6f 20&gt;</span>
<span class="token keyword">let</span> data2 <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//nihao</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-createreadstream流式读取" tabindex="-1"><a class="header-anchor" href="#_3-createreadstream流式读取" aria-hidden="true">#</a> （3）createReadStream流式读取</h3><p>语法：fs.createReadStream(path[, options])<br> 参数说明：<br> path：文件路径<br> options：选项配置<br> 返回值：Object<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//创建读取流对象</span>
<span class="token keyword">let</span> rs <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">&#39;./观书有感.txt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//每次取出 64k 数据后执行一次 data 回调</span>
rs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//读取完毕后, 执行 end 回调</span>
rs<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;读取完成&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-读取文件应用场景" tabindex="-1"><a class="header-anchor" href="#_4-读取文件应用场景" aria-hidden="true">#</a> （4）读取文件应用场景</h3><ol><li>电脑开机<br></li><li>程序运行<br></li><li>编辑器打开文件<br></li><li>查看图片<br></li><li>播放视频<br></li><li>播放音乐<br></li><li>Git查看日志<br></li><li>上传文件<br></li><li>查看聊天记录<br></li></ol><h2 id="_3-文件移动与重命名" tabindex="-1"><a class="header-anchor" href="#_3-文件移动与重命名" aria-hidden="true">#</a> 3. 文件移动与重命名</h2><p>移动和重命名是一样的语法<br> 语法：fs.rename(oldPath, newPath,callback)<br> fs.renameSync(oldPath, newPath)<br> 参数说明：<br> oldPath：文件当前的路径<br> newPath：文件新的路径<br> callback：操作后的回调<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">&#39;./观书有感.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./论语/观书有感.txt&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;移动完成&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">renameSync</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./论语/我的座右铭.txt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-文件删除" tabindex="-1"><a class="header-anchor" href="#_4-文件删除" aria-hidden="true">#</a> 4. 文件删除</h2><p>语法：fs.unlink(path, callback) 、fs.unlinkSync(path)<br> 参数说明：<br> path：文件路径<br> callback：操作后的回调<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//调用 unlink 方法  unlinkSync</span>
fs<span class="token punctuation">.</span><span class="token function">unlink</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;删除失败&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;删除成功&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 调用rm方法 rmSync  114.4版本新增</span>
fs<span class="token punctuation">.</span><span class="token function">rm</span><span class="token punctuation">(</span><span class="token string">&#39;./论语.txt&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;删除失败&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;删除成功&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-文件夹操作" tabindex="-1"><a class="header-anchor" href="#_5-文件夹操作" aria-hidden="true">#</a> 5. 文件夹操作</h2><h3 id="_1-mkdir创建文件夹" tabindex="-1"><a class="header-anchor" href="#_1-mkdir创建文件夹" aria-hidden="true">#</a> （1）mkdir创建文件夹</h3><p>语法：fs.mkdir(path[, options], callback)、fs.mkdirSync(path[, options])<br> 参数说明：<br> path：文件夹路径<br> options：选项配置（可选）<br> callback：操作后的回调<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//异步创建文件夹</span>
fs<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token string">&#39;./page&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;创建成功&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//递归异步创建</span>
fs<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token string">&#39;./1/2/3&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">recursive</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;递归创建成功&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//递归同步创建文件夹</span>
fs<span class="token punctuation">.</span><span class="token function">mkdirSync</span><span class="token punctuation">(</span><span class="token string">&#39;./x/y/z&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">recursive</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-readdir读取文件夹" tabindex="-1"><a class="header-anchor" href="#_2-readdir读取文件夹" aria-hidden="true">#</a> （2）readdir读取文件夹</h3><p>语法：fs.readdir(path[, options], callback)、fs.readdirSync(path[, options])<br> 参数说明：<br> path：文件夹路径<br> options：选项配置（可选）<br> callback：操作后的回调<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//异步读取</span>
fs<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span><span class="token string">&#39;./论语&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//同步读取</span>
<span class="token keyword">let</span> data <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span><span class="token string">&#39;./论语&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-rmdir删除文件夹" tabindex="-1"><a class="header-anchor" href="#_3-rmdir删除文件夹" aria-hidden="true">#</a> （3）rmdir删除文件夹</h3><p>语法：fs.rmdir(path[, options], callback)、fs.rmdirSync(path[, options])<br> 参数说明：<br> path：文件夹路径<br> options：选项配置（可选）<br> callback：操作后的回调<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//异步删除文件夹</span>
fs<span class="token punctuation">.</span><span class="token function">rmdir</span><span class="token punctuation">(</span><span class="token string">&#39;./page&#39;</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;删除成功&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//异步递归删除文件夹</span>
fs<span class="token punctuation">.</span><span class="token function">rmdir</span><span class="token punctuation">(</span><span class="token string">&#39;./1&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">recursive</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;递归删除&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//同步递归删除文件夹</span>
fs<span class="token punctuation">.</span><span class="token function">rmdirSync</span><span class="token punctuation">(</span><span class="token string">&#39;./x&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">recursive</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-查看资源状态" tabindex="-1"><a class="header-anchor" href="#_6-查看资源状态" aria-hidden="true">#</a> 6. 查看资源状态</h2><p>语法：fs.stat(path,[, options], callback)、fs,statSync(path[, options])<br> 参数说明：<br> path：文件夹路径<br> options：选项配置（可选）<br> callback：操作后的回调<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//异步获取状态</span>
fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;操作失败&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 同步获取状态</span>
<span class="token keyword">let</span> data <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">statSync</span><span class="token punctuation">(</span><span class="token string">&#39;./座右铭.txt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/imgs/source/61.png" alt="image.png"><img src="/imgs/source/62.png" alt="image.png"></p><h2 id="_7-相对路径问题" tabindex="-1"><a class="header-anchor" href="#_7-相对路径问题" aria-hidden="true">#</a> 7. 相对路径问题</h2><p>fs模块对资源进行操作时，路径的写法有两种：<br> （1）相对路径<br><br></p><ul><li>./座右铭.txt 当前目录下的座右铭.txt<br></li><li>座右铭.txt 等效于上面的写法<br></li><li>../座右铭.txt 当前目录的上一级目录中的座右铭.txt<br><br> （2）绝对路径<br><br></li><li>D:/Program Files windows系统下的绝对路径<br></li><li>/usr/bin Linux系统下的绝对路径<br></li></ul><blockquote><p>相对路径中所谓的 当前目录 ，指的是 命令行的工作目录 ，而并非是文件的所在目录 <br> 所以当命令行的工作目录与文件所在目录不一致时，会出现一些 BUG<br></p></blockquote><h2 id="_8-dirname" tabindex="-1"><a class="header-anchor" href="#_8-dirname" aria-hidden="true">#</a> 8. __dirname</h2><p>__dirname 与 require 类似，都是 Node.js 环境中的&#39;全局&#39;变量 <br> __dirname 保存着 当前文件所在目录的绝对路径 ，可以使用 __dirname 与文件名拼接成绝对路径<br></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> data <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">&#39;/data.txt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 fs 模块的时候，尽量使用 __dirname 将路径转化为绝对路径，这样可以避免相对路径产生的Bug<br></p></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><!----></footer><nav class="page-nav"><p class="hasPrev hasNext inner"><span class="page-nav-item prev"> ← buffer（缓冲器）</span><span class="page-nav-item next">_path模块 → </span></p></nav><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/node/5.html#_1-文件写入" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="1. 文件写入"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1. 文件写入<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_1-writefile-异步写入" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（1）writeFile 异步写入"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（1）writeFile 异步写入<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_2-writefilesync-同步写入" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（2）writeFileSync 同步写入"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（2）writeFileSync 同步写入<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_3-appendfile-appendfilesync-追加写入" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（3）appendFile / appendFileSync 追加写入"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（3）appendFile / appendFileSync 追加写入<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_4-createwritestream-流式写入" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（4）createWriteStream 流式写入"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（4）createWriteStream 流式写入<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_5-写入文件的场景" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（5）写入文件的场景"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（5）写入文件的场景<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/node/5.html#_2-文件读取" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2. 文件读取"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2. 文件读取<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_1-readfile异步读取" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（1）readFile异步读取"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（1）readFile异步读取<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_2-readfilesync同步读取" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（2）readFileSync同步读取"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（2）readFileSync同步读取<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_3-createreadstream流式读取" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（3）createReadStream流式读取"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（3）createReadStream流式读取<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_4-读取文件应用场景" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（4）读取文件应用场景"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（4）读取文件应用场景<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/node/5.html#_3-文件移动与重命名" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3. 文件移动与重命名"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3. 文件移动与重命名<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/node/5.html#_4-文件删除" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4. 文件删除"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4. 文件删除<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/node/5.html#_5-文件夹操作" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="5. 文件夹操作"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->5. 文件夹操作<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_1-mkdir创建文件夹" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（1）mkdir创建文件夹"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（1）mkdir创建文件夹<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_2-readdir读取文件夹" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（2）readdir读取文件夹"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（2）readdir读取文件夹<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/node/5.html#_3-rmdir删除文件夹" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="（3）rmdir删除文件夹"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->（3）rmdir删除文件夹<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/node/5.html#_6-查看资源状态" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="6. 查看资源状态"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->6. 查看资源状态<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/node/5.html#_7-相对路径问题" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="7. 相对路径问题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->7. 相对路径问题<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/node/5.html#_8-dirname" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="8. __dirname"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->8. __dirname<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-3202c870.js" defer></script>
  </body>
</html>
